2017-11-28 Brian Ripley

	* DESCRIPTION: Version is 0.8-70
	* tests/spss.Rout.save: update for R-pre-3.5.0 chanages to str()
	  (and correct line endings)
	* tests/mval_bug.Rout.save: correct to CRLF lines endings.

2017-06-21  Uwe Ligges <Uwe.Ligges@R-project.org>

	* DESCRIPTION: Version is 0.8-69
	* add more sophisticated test cases and new examples for read.spss

2017-06-20  Uwe Ligges <Uwe.Ligges@R-project.org>

	* R/spss.R: 
	 - fix for R >= 3.4.0 not allowing duplicated factor labels, hence new arguments
	   duplicated.value.labels and duplicated.value.labels.infix
	   that control whether to make factor labels unique or to condence 
	   all levels with identical factor labels into one level
	 - new argument add.undeclared.levels: Many files observed in the wild
	   have variables with one or more value labels and further 
       non-missing values that have no value label. 
	   We cann now sepcify whether the other levels should be appended or sorted
	   into the declared labels, or not to convert to factor at all.
	   This fixes several issues, e.g. that values without labels were 
	   regarded as NA values before.

2017-06-19  Uwe Ligges <Uwe.Ligges@R-project.org>
	
	* R/spss.R: 
	 - allow to pass a "..." argument to as.data.frame,
	   add argument "sub" for substituting invalid chars rather than returning NAs and 
	   allowing for back compatibility
	 - now also auto-reencodes if R is ruinning in a latin-1 locale and sav file's encoding is not.
	* src/sfm-read.c: Update for format type 7 subtypes:
	 - more comments and restructured
	 - information from 
	   https://www.gnu.org/software/pspp/pspp-dev/html_node/System-File-Format.html#System-File-Format
	 - no longer warns for subtypes 12, 17, 18, 19, 20, 24 as these can be safely ignored
	 - more informative warning messages for subtypes 14, 21, 22 (long strings)

2017-06-12  Uwe Ligges <Uwe.Ligges@R-project.org>

	* R/spss.R: use iconv(..., sub=".") so that character labels/names/values
	  with invalid or non convertible chars are no longer silently coerced to NA

2017-06-09  Uwe Ligges <Uwe.Ligges@R-project.org>

	* src/sfm-read.c: Do not evaluate the write field for the format 
	  type any more as this produces errors and given 
	  https://www.gnu.org/software/pspp/pspp-dev/html_node/Variable-Record.html#Variable-Record
	  tells us on June 9, 2017:
	  "A few system files have been observed in the wild with invalid write fields, 
	  in particular with value 0. Readers should probably treat invalid print or 
	  write fields as some default format. "

2017-05-04  Uwe Ligges <Uwe.Ligges@R-project.org>

	* several bugfixes for writeForeignSPSS:
	  add/correct declaration of factors and ordered factors (nominal, ordered);
	  add/correct declaration of numeric (scale) variables;
	  calculate length of character variables correctly, even if 
	  all entries are NA and there is no longer a 255 char limit 
	  (since SPSS 13); 
	  data files are typically encoded in the current locale and not always ASCII;
	  variable name list must not exceed 251 chars for each line of code 
	  and had to be wrapped

2017-04-29  Uwe Ligges <Uwe.Ligges@R-project.org>

	* add maxchars = 32L argument to writeForeignSPSS
      in order to allow for longer variable names for SPSS versions > 12
	* bugfix in writeForeignSPSS for declaration of character variables by prefixed stars
	
2017-04-27  Uwe Ligges <Uwe.Ligges@R-project.org>

	* writeForeignCode.R: SET DECIMAL=DOT. in SPSS required if 
	  it runs in a locale with DECIMAL=comma

2017-04-22  Uwe Ligges <Uwe.Ligges@R-project.org>

	* DESCRIPTION: Version is 0.8-68
	* src/sfm-read.c: no longer convert variable name characters to upper case nor give warnings
	  (as this fails in multi byte encodings and seems not to be required)

2016-09-24 Brian Ripley

	* man/read.dta.Rd: mention package 'haven'.

2016-09-13  Kurt Hornik  <Kurt.Hornik@wu.ac.at>

	* DESCRIPTION: Version is 0.8-67

2016-01-25 Brian Ripley

	* src/*.c: include directly headers included via R.h.

2015-08-29 Brian Ripley

	* man/read.dbf.Rd: wotsit.org is unavailable and has been for weeks.

2015-08-18 Luke Tierney
	* DESCRIPTION: Version is 0.8-66
	* src/spss.c: Moved install call to protect ScalarInteger result.

2015-07-02 Brian Ripley

	* DESCRIPTION: Version is 0.8-65
	* R/read.dta.R: convert_dt_C used the wrong origin for leap seconds.
	* tests/stata.R[out]: set timezone.

2015-06-28 Kurt Hornik

	* DESCRIPTION: Version is 0.8-64
	* NAMESPACE: add missing imports from stats and utils.

2015-02-13 Brian Ripley

	* DESCRIPTION: Version is 0.8-63
	* man/read.dta.Rd: mention new CRAN package 'readstata13'
	* R/writeForeignSAS.R: use qmethod = "double" (PR#16199)
	* man/read.spss.Rd: clarifications, especially now download.file()
	has been enhanced.
	* R/spss.R: do not report re-encoding from 65001 to UTF-8.
	* src/stataread.c: cast to suppress conversion warning.

2015-01-09 Brian Ripley

	* man/{lookup.xport,read.arff,read.xport,write.arff}.Rd:
	update URLs.

2015-01-07 Brian Ripley

	* DESCRIPTION: Version is 0.8-62

	* man/*.Rd: Add some explanation of the \dontrun sections.

2015-01-02 Brian Ripley

	* DESCRIPTION: Authors@R had a needless call to structure().

2014-10-20 Brian Ripley

	* R/octave.R: remove unused assignments.

2014-03-28 Brian Ripley

	* DESCRIPTION: Version is 0.8-61

	* R/dbf.R, po/*pl.pp: updates

2014-03-22 Brian Ripley

	* DESCRIPTION: Version is 0.8-60

	* src/stataread.c: 'writeStataValueLabel' used wrong length,
	picked up by valgrind (on an instrumented build).  As did writing
	expansion fields.

	* src/SASexport.c: 'exponent' needs to be signed for Raspbian
	(PR#15720).
	
2014-01-26 Brian Ripley

	* tests/spss.{R,Rout.save}: avoid partial match in all.equal().

2014-01-24 Brian Ripley

	* man/write.dta.Rd: Add section with more explanation on date-times.

	* src/{R_systat,SASxport.c,dbfopen.c,swap_bytes.h},:
	add casts or correct types.

	* src/stataread.c: legibility.

2014-01-24 Brian Ripley

	* DESCRIPTION: Version is 0.8-59

	* R/read.dta.R, man/read.dta.Rd: add support for Stata date-times,
	improve detection of date columns.

	* tests/stata.{R,Rout.save}, tests/xxx12.dta: add regression test.

2014-01-22 Brian Ripley

	* tests/download.R: remove defunct URL.

	* tests/sas.R: comment that URL was unresponsive.

	* src/{file.handle.c,minitab.c,pfm-read.c,sfm-read.c,spss.c,stataread.c}: 
	add casts or correct types.

2014-01-21 Brian Ripley

	* DESCRIPTION: Version is 0.8-58

	* R/read.dta.R, man/read.dta.Rd: attempt to convert Stata's newer
	%[-]t date formats if convert.dates = TRUE. (Wish of PR#15517.)

2013-12-05 Brian Ripley

	* R/writeForeignCode.R: correction to write.foreign(package =
	"SPSS") when writing data frames with character columns. (PR#15483)  
	Also layout/legibility.

	* tests/writeForeignCode.{R,Rout.save}, tests/keep: regression
	test for above.

2013-11-27 Brian Ripley

	* man/read.ssd: Mention problems with long 'sectionnames' on
	Windows. (PR#15570)

2013-10-29 Martyn Plummer
	* DESCRIPTION: Version is 0.8-57

	* src/stataread.c: Fix for PR#15477

2013-10-27 Brian Ripley

	* man/read.dta: Add comment on Stata's confusion about their v12 format.

2013-10-07 Brian Ripley

	* DESCRIPTION: Version is 0.8-56
	
	* man/{read,write}.dta: Freeze Stata support.
	
	* man/read.{dbf,spss}.Rd: add comments on status to fend off
	non-bug reports.
	
	* inst/COPYRIGHTS, man/read.epiinfo.Rd, src/stataread.c: update.

2013-09-02 Brian Ripley

	* DESCRIPTION: Version is 0.8-55, depends on R (>= 3.0.0).

2013-07-15  Brian Ripley

	* src/SASxport.c, tests/testEmpty.R: fix for PR#15346 (empty datasets).

	* src/stataread.c: trap invalid empty strings (PR#15166)

2013-05-07  Brian Ripley

	* DESCRIPTION: Version is 0.8-54.

	* R/read.dta.R: avoid abbreviate() in write.dta() if not needed.

2013-04-28, 2013-05-06, 2013-09-02  Brian Ripley

	* src/stataread.c, man/{read,write}.dta.Rd: 
	allow write.dta() to write value labels, and read.dta() to read
	all the labels (contributed by Brian Quistorff).
	
	* tests/stata.R, tests/stata.Rout.save, 
	tests/MLLabelsWithNotesChar.dta, tests/OneVarTwoValLabels.dta: 
	regression tests for above.
	
2013-03-20  Brian Ripley

	* DESCRIPTION: Version is 0.8-53.

	* src/avl.c: Free_fn had wrong number of arguments, 
	reported by OS X's toolchain.

2013-03-03,10  Brian Ripley

	* LICENCE, inst/LICENCE: remove old files

2013-01-02  Brian Ripley

	* DESCRIPTION: Version is 0.8-52.

	* DESCRIPTION: move copyright info to 'Copyright' field, and for
	completeness arrange to install it.

	* COPYRIGHTS: update links to libavl and PSPP.

	* R/zzz.R: remove unused .First.lib

	* src/init.c: update test to R >= 3.0.0

	* man/read.spss.Rd: use 'max.value.labels' consistently

	* R/spss.R: patch from
	<https://bugs.r-project.org/bugzilla3/show_bug.cgi?id=15073>
	contributed by Peggy Overcashier.

	* tests/mval_bug.{R,sav,Rout.save}: tests for above.

2012-12-14  Brian Ripley

	* DESCRIPTION: add 'Biarch' field

2012-10-08  Brian Ripley

	* DESCRIPTION: Version is 0.8-51.
	* R: work on translations
	* po: update translations

2012-09-01  Brian Ripley

	* po: add Polish translations.
	
2012-08-30  Brian Ripley

	* src/init.c: force use of registered symbols in R >= 2.16.0

2011-05-21  Brian Ripley

	* DESCRIPTION: Version is 0.8-50.

2012-05-08  Kurt Hornik <Kurt.Hornik@R-project.org>

	* DESCRIPTION: Improve Authors@R

2012-02-10  Brian Ripley

	* DESCRIPTION: Version is 0.8-49.
	* R/read.dta.R, src/stataread: patch from PR#14799
	* tests/spss.Rout.save: update output for R 2.15.0

2011-12-06  Brian Ripley

	* DESCRIPTION: Version is 0.8-48.

2011-12-03  Brian Ripley

	* src/writeForeignSAS.R, man/write.foreign.Rd: add 'libpath'
	argument contributed by Xiaobo Gu.

2011-11-23  Brian Ripley

	* src/var.h.in: this assumed values for sizes, ignoring those
	computed by configure.  And we know sizeof(double) is always 8.
	
	* configure, configure.ac, src/Makevars.in, src/swap_bytes.h.in,
	cleanup:  The header had always #undef-ed HAVE_GLIBC_SWAP, so
	remove never-used code branches.  This means that 'long long' is
	never used and so no warning needs to be suppressed, so
	src/Makevars and all configuration are not needed.

2011-11-22  Kurt Hornik <Kurt.Hornik@R-project.org>

	* R/arff.R: handle "Date" objects in addition to "POSIXt" ones.
	(Spotted by Xiaobo Gu <guxiaobo1982@gmail.com>.)

2011-11-08  Brian Ripley

	* DESCRIPTION: Version is 0.8-47, use Authors@R field

2011-10-15  Brian Ripley

	* R/read.dta.R, man/read.data.Rd, src/stataread.c: read Stata 12
	files as if they were format_114: the description is unchanged.

2011-09-26  Brian Ripley

	* man/read.dta.Rd: refer to package 'memisc'.
	* man/read.spss.Rd: tweak wording, refer to package 'memisc'.

2011-09-23  Brian Ripley

	* DESCRIPTION: Version is 0.8-46
	* R/writeForeignSAS.R: write out logicals (patch from Patrick
	McCormick).
	* R/writeForeignCode.R: give invisible return value.
	* man/write.foreign.Rd: update documentation.

2011-08-28  Brian Ripley

	* src/dbfopen.c: Use REprintf.

2011-07-12  Brian Ripley

	* DESCRIPTION: Version is 0.8-45
	* COPYING: rename to GPL-2
	* LICENCE: reflect that change.
	* COPYRIGHTS: library -> package

2011-05-04  Brian Ripley

	* src/file-handle.c: plug memory leaks in read.spss()

2011-04-10  Brian Ripley

	* DESCRIPTION: Version is 0.8-44
	* src/R_systat.c: remove set-but-unused variable

2011-04-04  Brian Ripley

	* man/read.mtp.Rd: note not for current (>= 15) Minitab

2011-03-26  Brian Ripley

	* src/SASxport.c: remove set-but-unused variable

2011-03-05  Brian Ripley

	* DESCRIPTION: Version is 0.8-43, depends R >= 2.13.0
	* tests/stata.Rout.save: update for R 2.13.0

2011-02-10  Brian Ripley

	* DESCRIPTION: Version is 0.8-42

2011-01-01  Brian Ripley

	* src/sfm-read.c: wrong index reported in error message. (PR#14465)
	* tests/stata.Rout.save: update for rounding of < 1970-01-01 dates.

2010-10-22  Brian Ripley

	* man/read.octave.Rd: Octave changed since 2004. (PR#14420)

2010-09-23  Brian Ripley

	* DESCRIPTION: Version is 0.8-41
	* R/spss.R: Fix to PR#14382

2010-06-29  Brian Ripley

	* man/write.dta.Rd: Improve wording

2010-03-26  Brian Ripley

	* DESCRIPTION: Version is 0.8-40
	* src/dbfopen.c: Remove the undocumented restriction of
	read.dbf() to extensions .dbf or .DBF. (And change DESCRIPTION to
	match.)
	* tests/octave.Rout.save: update for str() change (bugfix).

2010-01-03  Brian Ripley

	* DESCRIPTION: Version is 0.8-39
	* R/read.dta.R, man/write.dta.Rd: Stata 11 uses the same format as
	Stata 10, so map 11 to 10.
	* po/R*: update.
	* tests/octave.Rout.save: update for str() change.

2009-12-18  Brian Ripley

	* DESCRIPTION: add BugReports field.
	* man/read.dta.Rd: Stata 11 uses the same format as Stata 10.

2009-10-12  Brian Ripley

	* po/R-de.po, po/de.po: update

2009-10-07 Brian Ripley

	* DESCRIPTION: Version is 0.8-38, for release with 2.10.0

2009-09-15 Brian Ripley

	* R/spss.R: 'latin-9' is more portable than 'latin9', as libiconv
	does not know about the latter.

2009-06-13 Brian Ripley

	* src/spss.c: uninitialized codepage in an example from 
	multcomp's chfls1.Rnw

2009-06-13 Brian Ripley

	* DESCRIPTION: Version is 0.8-37, for release with 2.9.2

2009-06-09 Brian Ripley

	* src/stataread.c, man/write.dta.Rd: truncate character data in
	write.dta at 244 bytes. (PR##13820)
	* src/stataread.c: allow for up to 244 bytes in character string
	and check.  Previously assumed up to 128 and did not check.

2009-06-09 Brian Ripley

	* DESCRIPTION: Version is 0.8-36
        * po/de.po, po/R-de.po: updates

2009-05-28 Brian Ripley

        * po/de.po, po/R-de.po: first pass at German translations
	from Chris Leick
	* po/fr.po, po/R-fr.po: updates from Phillipe Grosjean

2009-05-11 Brian Ripley

	* man/read.dbf.Rd: update wotsit.org URL (thanks to Peter Konings).
	
2009-05-02 Brian Ripley

	* DESCRIPTION: Version is 0.8-35
	* src/dbfopen.c: make a blank field valid as a NULL numeric type
	as per current dbfopen (if not per the spec).
	* src/Rdfopen.c: when promoting a column to numeric from integer,
	need to convert NA_INTEGER to NA_REAL, not to -2^31+1.  And columns
	were promoted unnecessarily because of a typo.

2009-03-12 Brian Ripley

	* DESCRIPTION: Version is 0.8-34
	* R/read.{dta,spss}.R: files specified as URLs are downloaded to a
	temporary file and then read.  (Suggestion of Jeffrey Racine.)
	* tests/download.R: tests for download in read.dta and read.spss.
	* src/sfm-read.c: Remove some warnings that seem innocent (Windows
	codepages, record type 7 subtype 20).

2009-03-07 Brian Ripley

	* src/avl.[ch]: comment out/remove unused functions, make external
	symbols R_avl_* since Jeff Long managed to link against Solaris'
	libavl by a very non-standard build.   Remove attempt to use
	inlining under gcc (since it was the GCC not C99 model).
	* src/{file-handle,pfm-read,sfm-read,spss}.c: use R_avl_ prefix.

2009-02-18 Brian Ripley

	* DESCRIPTION: Version is 0.8-33.
	* R/spss.R: improvements to interpreting codepages

2009-02-09 Brian Ripley

	* DESCRIPTION: Version is 0.8-32.
	* src/sfm-read.c: correct 'free' to 'Free' in contributed code.
	* R/spss.R: interpret more code pages.

2009-01-28 Brian Ripley

	* DESCRIPTION: Version is 0.8-31.
	* tests/{minitab,octave,spss}.Rout.save: update output
	
2009-01-04 Brian Ripley

	* R/writeforeignSAS: fix typo (PR#13425)

2008-12-19 Brian Ripley

	* DESCRIPTION: Version is 0.8-30.
	* R/*.R: more code cleanup.
	* man/read.ssd.R, man/read.xport.Rd: correct \email format

2008-12-15 Brian Ripley

	* R/*R: make more use of integer constants.
	* tests/stata.Rout.save: update for str() changes in R 2.8.0.
	* R/spss.R, man/read.spss.Rd, src/sfm-read.c: assume 
	codepage 65001 is UTF-8, others >= 2000 are unknown to iconv().
	
2008-08-21 Brian Ripley

	* R/read.dta.R, man/write.dta.Rd: allow arrays in write.dta with
	all dims but the first equal to one.
	* R/arff.R: improvements by Martin C. Martin (PR#12574),
	corrected.  Use "wb" to open file (and so preserve eol on Windows).
	* man/{read,write}.arff.Rd: update URL

2008-08-07 Brian Ripley

	* R/read.ssd.R: allow long var names, PR#9631/2.

2008-08-07 Brian Ripley

	* DESCRIPTION: Version is 0.8-29.
	* R/read.dta.R: avoid as.Date() after
	https://stat.ethz.ch/pipermail/r-help/2008-August/170114.html
	* R/*.R: use L for integer constants.

2008-08-05 Brian Ripley

	* src/sfm-read.c, src/spss.c, man/read.spss.Rd: return information
	on user-defined missing values.
	* R/spss.R, man/read.spss.R: add argument 'use.missings'.
	* tests/spss.R*: don't record the previous locale in output,
	adapt for default mapping of missings with
	read.spss(to.data.frame=TRUE).
	* src/dbfopen.c, src/minitab.c, src/stataread.c: check return
	values from fread etc.

2008-07-29 Brian Ripley

	* DESCRIPTION: Version is 0.8-28.
	* src/sfm-read.c: endianness fix from
	https://stat.ethz.ch/pipermail/r-devel/2008-July/050194.html

2008-07-21 Brian Ripley

	* src/minitab.c, src/sfm-read.c: clean up last changes.

2008-07-16  Martin Maechler  <maechler@stat.math.ethz.ch>

	* DESCRIPTION (Version): 0.8-27.
	* src/sfm-read.c (sfm_read_long_var_names): added, from patch
	by Kurt Van Dijck <kurt.van.dijck@skynet.be>
	* tests/spss_long.sav : added example for those by Ilse Laurijssen
	* tests/spss.R : add stringent tests; also testing the above.

2008-06-18 Brian Ripley

	* src/SASxport.c, src/minitab.c, src/spss.c, src/stataread.c: use
	sterrror(errno) to give reason for fopen failure.

2008-06-13 Brian Ripley

	* tests/sas.R: make optional, controlled by env variable.

2008-05-29 Brian Ripley

	* DESCRIPTION: Version is 0.8-26.
	* src/stataread.c: increase buffer size for version 10 files.
	The "label.table" list attribute now only contains as many elements
	as are present in the file, and is only present in the result if
	there are value labels in the file.
	Version numbers are now positive in returned attribute
	except for -7 (Stata 7SE).
	Reformatted for legibility.
	* R/read.dta.R: Reformatting for legibility, more support for
	Stata 10 files.
	Default format for write.dta is now 7 (not 6).
	write.dta converts class Date and not just POSIXt.
	Argument 'tz' of read.dta has been removed.
	Default for 'convert_underscore' is now FALSE.
	* man/read.dta.Rd: typo.  More information on the attributes and
	how value labels are stored.  Warnings on non-ASCII strings and
	large integer and numeric values.
	* tests/stata.Rout.save: update. [NB: will need updating for R 2.8.0]

2008-04-10 Brian Ripley

	* DESCRIPTION: Version is 0.8-25.
	* R/zzz.R: add .onUnload() to unload the DLL.

2008-04-04 Brian Ripley

	* tests/sas.R: precautionary use of binary mode -- needed to test
	under Windows in R < 2.7.0.

2008-03-27 Brian Ripley

	* DESCRIPTION: Version is 0.8-24.
	* src/SASxport.c: Patch from PD for case where record
	ends on card boundary
	(http://finzi.psych.upenn.edu/R/Rhelp02a/archive/57864.html,
	https://stat.ethz.ch/pipermail/r-help/2008-February/155272.html)
	* tests/sas.R: regression test.
	* src/pfm-read.c: Use R's NA_REAL, Inf etc to return error and
	overflow conditions.  Allow widths up to 65535 bytes.
	* src/sfm-read.c: Increase the limit on variable labels to 65536 bytes
	(https://stat.ethz.ch/pipermail/r-help/2008-March/156950.html).
	Skip records of type 7 subtype 16.
	* R/spss.R, src/sfm-read.c, src/sfmP.h, pfm-read.c,
	man/read.spss.Rd: add 'reencode' argument to read.spss.

2008-03-22 Brian Ripley

	* src/dbfopen.c: Use R_atof where available, for
	locale-independence.

2008-03-18 Brian Ripley

	* R/read.dta.R, src/stataread.c, man/read.dta.Rd,
	man/write.dta.Rd.  Add support for Stata 10 (aka 114) format.

2008-03-09 Duncan Murdoch <Duncan.Murdoch@R-project.org>

	* R/read.epiinfo.R:  bad regexp for blanks fixed.

2008-01-23 Brian Ripley

	* src/minitab.c: force text-mode opening (embedded uses of R can
	change the default on Windows).

2007-09-17 Brian Ripley

	* DESCRIPTION: Version is 0.8-23, use approved license abbreviation.
	* R/spss.R, man/read.spss.Rd, tests/spss.Rout.save:
	New argument trim_values=TRUE to read.spss, as some examples have
	padding in the value labels table and not in the data.  One
	example is in PR#9896.

2007-08-12 Brian Ripley

	* man/read.spss.Rd: Clarifications, including
	'Unrecognized record type 7, subtype 16' message.
	Add URL for PSPP project.

2007-08-02 Brian Ripley

	* src/pfm-read.c, src/sfm-read.c: include headers conditionally
	provided via R.h.

2007-07-27 Brian Ripley

	* DESCRIPTION: Version is 0.8-22
	* R/*.R, src/*.[ch]: Add licence statement, or update source for GPL.
	* man/*.Rd: Copy over copyright claims from COPYRIGHTS to files
	mentioned.
	* COPYRIGHTS: update some dates.
	* LICENCE: Clarify that this package is licensed under GPL >= 2.

2007-06-06 Brian Ripley

	* src/sfm-read.c: remove Solaris compiler warning.

2007-06-01 Brian Ripley

	* src/foreign.h: remove duplicate definition of R_ExpandFileName.
	* src/R_systat.c, src/Rdfread.c, src/SASexport.c, src/spss.c,
	src/stataread.c: issues with CHAR being made (const char *).
	* DESCRIPTION: Version is 0.8-21, depends on R >=2.6.0

2007-05-29 Brian Ripley

	* R/dbf.R, R/read.dta.R: comments on meaning of nchar()
	- probably always ASCII
	* tests/stata.Rout.save: update for R 2.6.x

2007-05-20 Brian Ripley

	* R/Sread.R, R/octave.R, tests/stata.*: partial matching issues,
	use seq.int.

2007-04-06  Kurt Hornik  <Kurt.Hornik@wu-wien.ac.at>

	* DESCRIPTION: Version is 0.8-20

2007-04-06 Brian Ripley

	* src/sfm-read.c: warning not error on unknown character
	representation code.
	* man/read.spss.Rd: document this.

2007-03-26  Kurt Hornik  <Kurt.Hornik@wu-wien.ac.at>

	* NAMESPACE:
	* R/arff.R:
	* man/read.arff.Rd:
	* man/write.arff.Rd:
	Add functionality for reading and writing Weka ARFF files.

2007-03-23 Brian Ripley

	* DESCRIPTION: Version is 0.8-19, depends on 2.5.0.
	* NAMESPACE: remove conditionality
	* man/read.ssd.Rd: add comments about alternatives.

2007-03-06 Thomas Lumley <tlumley@u.washington.edu>

	* R/read.dta.R: avoid as.data.frame.list, for efficiency

2006-12-22 Brian Ripley

	* man/read.epiinfo.Rd: spelling

2006-11-30 Brian Ripley

	* NAMESPACE: Conditional on R>=2.5.0, import write.table
	* DESCRIPTION: Declare imports from utils, although only needed for R>=2.5.0

2006-11-29 Brian Ripley

	* DESCRIPTION: Version is 0.8-18.

2006-11-04 Brian Ripley

	* man/read.S.Rd: several corrections, mainly re data.restore.

2006-09-06 Brian Ripley

	* DESCRIPTION: needs to depends on stats, for na.omit.
	  It does use methods::as
	  Version is 0.8-17

2006-08-31 Thomas Lumley <tlumley@u.washington.edu>

	* R/read.dta, src/stataread.c: return a list from C,
	  much faster for wide files

	* man/read.dta.Rd, man/write.dta.Rd: update for Stata 9.

	* src/sfm-read.c: changes from PR#9074 <tim.bock@numbers.net.au>

	* src/writeForeignCode.R: fixes for PR#8936,  PR#8927, PR#9006

2006-08-31 Brian Ripley

	* DESCRIPTION: there are no imports, from methods or elsewhere.
	  Version is 0.8-16.

	* R/Sread.R, R/dbf.R, R/octave.R: use seq_{along,len}.

	* src/minitab.c: only use Rinternals.h.

2006-08-11 Brian Ripley

	* tests/stata.Rout.save: update for str() change.

2006-06-17 Thomas Lumley <tlmley@u.washington.edu>

	* R/writeForeignSAS.R, COPYRIGHTS: Add Stephen Weigand's modifications

2006-05-26 Brian Ripley

	* R/dbf.R, man/writedbf.Rd: new argument max_nchar to write.dbf()
	to allow longer character fields.

2006-03-29 Brian Ripley

	* DESCRIPTION: version is 0.8-15

	* src/R_systat.c: Don't try to parse comments.

2006-02-25 Brian Ripley

	* src/init.c: use const for tables.

2006-01-26 Brian Ripley

	* DESCRIPTION: version is 0.8-14

	* src/pspp-format-def.h: rename from format.def to avoid confusion
	with Windows .def files.

	* R/zzz.R: update FSF address.

2005-12-30  Brian Ripley

	* DESCRIPTION: version is 0.8-13

	* NAMESPACE, R/*.R: use registered symbols in .Call/.External calls.

	* COPYING: update FSF address

2005-12-19  Brian Ripley

	* src/SASxport.[ch]: better ways to avoid alignment problems.

	* src/sfmP.h, src/sfm-read.c: remove packing as it causes
	alignment problems on 64-bit platforms.

2005-12-14  Brian Ripley

	* DESCRIPTION: version is 0.8-12

	* src/SASxport.c: force alignment of char *, as apparently
	gcc4's memcpy requires this.

2005-12-12  Brian Ripley

	* src/sfm-read.c, src/SASxport.h: use int not long.  First is
	harmless, the second may not be on 64-bit platforms.
	* src/sfm-read.c: reading a structure from a file assumes that
	alignment is adding no padding, which is not the case on Sparc
	Solaris's native compilers.

2005-12-08  Brian Ripley

	* DESCRIPTION: version is 0.8-11

	* po/R-fr.po, po/fr.po: add French translations.

2005-11-16  Brian Ripley

	* src/init.c: new file, add symbol registration.

2005-08-26  Brian Ripley

	* DESCRIPTION: version is 0.8-10

	* src/pfm-read.c, src/sfm-read.c, src/spss.c: replace the
	abuse of casting an int to/from void *, which correctly warned on
	64-bit platforms.

2005-08-19  Brian Ripley

	* src/Rdbfread.c, man/read.dbf.Rd: read over-wide numeric fields as
	doubles.

2005-08-15  Thomas Lumley <tlumley@u.washington.edu>

	* R/spss.R, man/read.spss.Rd: reverse the order of factor levels
	when creating factors from SPSS value labels

2005-07-13  Thomas Lumley <tlumley@u.washington.edu>

	* DESCRIPTION: version is 0.8-9

2005-07-13  Brian Ripley

	* R/writeForeignCode.R:
	* R/writeForeignSAS.R:
	  replace use of dQuote() which gave UTF-8 quotes in a UTF-8 locale.

2005-07-07 Thomas Lumley <tlumley@u.washington.edu>

	* R/writeForeignSAS.R: add SAS to write.foreign()

2005-07-05  Thomas Lumley <tlumley@u.washington.edu>

	* R/writeForeignCode.R: extra punctuation in SPSS code files.

2005-06-08  Brian Ripley

	* src/dbfopen.c: suppress a couple of warnings on Solaris.

2005-06-07  Thomas Lumley <tlumley@u.washington.edu>
	* src/stataread.c: Writes of empty strings gave an error

	* DESCRIPTION: version is 0.8-8

2005-05-24  Thomas Lumley <tlumley@u.washington.edu>

	* R/read.dta.R, man/read.dta.Rd: by default don't use value
	labels unless there is a label for every value.

	* src/sfm-read.c, man/read.spss.Rd: Suppress the "Unrecognized
	record type 7, subtype 13" warning caused by long variable names
	in SPSS files.

2005-04-17  Brian Ripley

	* DESCRIPTION (Version): New version is 0.8-7.

	* R/dbf.R: further patch from Roger Bivand for all-NA fields.

2005-04-04 Brian Ripley

	* DESCRIPTION (Version): New version is 0.8-6.

	* R/dbf.R: patch from Roger Bivand for invalid value for the
	guess at the width of integer or numeric fields

	* src/pfm-read.c: match -> pfm_match to avoid warning.

2005-02-05 Brian Ripley

	* DESCRIPTION (Version): New version is 0.8-5.

	* R/dbf.R:
	* R/octave.R:
	* R/read.dta.R:
	* R/read.epiinfo.R:
	* R/read.ssd.R:
	* R/Sread.R:
	* R/writeForeignCode.R:
	* po/R-foreign.pot:
	* po/foreign.pot:
	* src/file-handle.c:
	* src/foreign.h:
	* src/format.c:
	* src/minitab.c:
	* src/pfm-read.c:
	* src/R_systat.c:
	* src/Rdbfread.c:
	* src/Rdbfwrite.c:
	* src/SASxport.c:
	* src/sfm-read.c:
	* src/spss.c:
	* src/stataread.c:
	mark error messages for gettext, improve messages.
	* tests/stata.Rout.save: update for str() changes in R-devel

2004-12-27  Kurt Hornik  <Kurt.Hornik@wu-wien.ac.at>

	* DESCRIPTION (Version): New version is 0.8-4.

	* R/octave.R: New file, adding read.octave() for reading in files
	in Octave text data format (as generated by 'save -ascii').
	* man/read.octave.Rd: New file, documenting the above.
	* tests/octave.R:
	* tests/octave.m:
	* tests/octave.dat:
	New files for testing read.octave().

2004-12-27 Brian Ripley

	* test/stata.Rout.save: update for str() changes in R-devel

2004-12-14  Douglas Bates  <bates@bates1-home>

	* src/minitab.c (read_mtp,MTB2SEXP): code for matrices contributed
	by Rajarshi Guha <rxg218@psu.edu>.

2004-12-02  Martin Maechler  <maechler@stat.math.ethz.ch>

	* tests/dumpdata: enhanced {logical; NA}
	* tests/create-dumpdata.S: new {only internal documentation}

	* tests/S3.R: add verbose=TRUE

	* DESCRIPTION: New version is 0.8-3.
	* DESCRIPTION (Imports): stats, methods

	* R/Sread.R (data.restore): handle "logical"s (with NAs!)
	correctly; handle NAs better in general, getting rid of extraneous
	coercion warning.

2004-12-01  Martin Maechler  <maechler@stat.math.ethz.ch>

	* R/Sread.R (data.restore): handle `ts()' objects properly

2004-11-24 Brian Ripley

	* DESCRIPTION: New version is 0.8-2.

	* src/SASxport.c Definition of numerical missing values was
	applied to character fields. (PR#7389)

2004-11-17 Brian Ripley

	* DESCRIPTION: New version is 0.8-1.

	* read.ssd.{R,Rd}: Make work under Windows and tidy up.

2004-11-8 Thomas Lumley <tlumley@u.washington.edu>

	* spss.R:  Trim trailing spaces from SPSS value labels

	 Don't create a factor when there are fewer labels than
	 non-missing levels

	* read.spss.Rd: Mention the apparently harmless warning given for
	 recent versions of SPSS files.

2004-10-28 Brian Ripley

	* DESCRIPTION: Mention read/write .dbf files

2004-10-25 Brian Ripley

	* DESCRIPTION: New version is 0.8-0.

	* Added read.systat contributed by Roger Bivand

	* Added read.dbf, write.dbf based on functions from package 'maptools'.

	* COPYRIGHTS: New file.

2004-09-02 Thomas Lumley <tlumley@u.washington.edu>

	* Add write.foreign for writing to foreign packages

	* use Date rather than POSIXt for read.dta

	* Update tests/stata.Rout.save for using Date rather than POSIXt

	* DESCRIPTION: New version is 0.7

2004-07-29  Thomas Lumley <tlumley@u.washington.edu>

	* DESCRIPTION: New version is 0.6-11

	* Fix US-style dates in read.epiinfo

	* Add option to turn off some warnings in read.dta

2004-07-15  Kurt Hornik	 <Kurt.Hornik@wu-wien.ac.at>

	* DESCRIPTION (Version): New version is 0.6-10.

	* configure.ac: Protect against possible whitespace in R_HOME when
	calling R CMD config.

2004-05-22  Kurt Hornik	 <Kurt.Hornik@wu-wien.ac.at>

	* DESCRIPTION (Version): New version is 0.6-9.

	* INDEX: Removed.

	* src/SASxport.c (xport_info, xport_read): Make sure that
	R_ExpandFileName() is called on a valid string (PR#5049).

2004-04-28 Thomas Lumley <tlumley@u.washington.edu>

	* DESCRIPTION: version 0.6-8

	* read.dta: 1-byte type was coming through unsigned

	* tests/: test file with 1-byte type

2004-04-22 Thomas Lumley <tlumley@u.washington.edu>

	* DESCRIPTION: version 0.6-7

	* read.dta: add option to not convert _ to . in variable names

	* tests/  tests of the new option and more tests for stata 8.

2003-12-20  Brian Ripley  <ripley@stats.ox.ac.uk>

	* DESCRIPTION (Version): New version is 0.6-6.

	* NAMESPACE: New file.

	* man/read.S.R: Do not export nor document SModeNames.

	* src/zzz.R: Define .onLoad as well as .First.lib (the latter left
	in case NAMESPACE is removed for debugging).

2003-12-20  Kurt Hornik	 <Kurt.Hornik@wu-wien.ac.at>

	* DESCRIPTION (Version): New version is 0.6-5.

	* TITLE: Removed.

	* configure:
	* configure.in:
	* configure.ac:
	Upgrade to Autoconf 2.50 style.
	Header file 'src/vars.h' needs to be in AC_CONFIG_HEADERS (as we
	do not AC_SUBST() in it).
	Add testing code for a '-Wno-long-long' C compiler option to shut
	up warnings from gcc -pedantic in fact due to glibc's byteswap.h
	bswap_64 macro (which tries using __extension__, but fails ...).
	* src/Makevars.in:
	New file for possibly setting PKG_CFLAGS to '-Wno-long-long'.

	* src/sfm-read.c:
	Use __extension__ in GNUC version of REM_RND_UP macro.

2003-09-25  Saikat DebRoy  <saikat@stat.wisc.edu>

	* DESCRIPTION: Increased version to 0.6-4.

	* src/swap_bytes.h.in:
	The GNU libc header file byteswap.h only provides the bswap_64 macro
	when using gcc. Use suitable replacement when using another compiler
	like icc.

2003-09-25  Kurt Hornik	 <Kurt.Hornik@wu-wien.ac.at>

	* DESCRIPTION (Version): New version is 0.6-3.

	* man/read.epiinfo.Rd: Codoc mismatch.

2003-08-28  Thomas Lumley <tlumley@u.washington.edu>

	* read.spss.Rd: note that strings are padded on the right with
	spaces.

	* version is 0.6-2

2003-08-19  Thomas Lumley <tlumley@u.washington.edu>

	* read.dta: work around a Stata file that says it has value labels
	but doesn't.

	* version is 0.6-2

2003-05-21  Peter Dalgaard BSA	<p.dalgaard@biostat.ku.dk>

	* lookup.xport return SAS variable label and format. Slight change
	  of logic for getting variable name (avoid strchr on things that
	  aren't zero-terminated).

	* version is 0.6-1

2003-05-20 Thomas Lumley <tlumley@u.washington.edu>

	* read.dta/write.dta handle Stata 8.0

	* version is 0.6

2003-05-08 Brian Ripley <ripley@stats.ox.ac.uk>

	* src/* rename int32, flt64 and comment out int16 and flt32,
	  to avoid conflicts on AIX 5.1.

	* DESCRIPTION: version is 0.5-13

2003-04-04 Duncan Murdoch <murdoch@stats.uwo.ca>

	* bug fix for data.restore (bad error message)

2003-03-01 Duncan Murdoch <murdoch@stats.uwo.ca>

	* bug fix for data.restore (wasn't reading NULL properly)

2002-11-04 Brian Ripley <ripley@stats.ox.ac.uk>

	* configure.win didn't work with all toolsets

	* DESCRIPTION: version is 0.5-8

2002-11-02 Thomas Lumley <tlumley@u.washington.edu>

	* Fixed src/stataread.c for version 7/SE (thanks to examples sent
	by Jason Liao)

	* version is 0.5-7

2002-07-25 Brian Ripley <ripley@stats.ox.ac.uk>

	* src/stataread.c: float NAs were being mapped to NaNs.
	(Fixed earlier in CVS by Martyn Plummer but not released.)

	* DESCRIPTION: Version is 0.5-6

2002-05-17 Thomas Lumley <tlumley@u.washington.edu>

	* Stata short ints were coming through unsigned

	* updated SPSS output in tests to follow 2002-04-29 changes

	* version is 0.5-5

2002-05-14 Thomas Lumley <tlumley@u.washington.edu>

	* Mark Myatt's fixes and extensions for read.epiinfo

2002-05-01  Kurt Hornik	 <Kurt.Hornik@wu-wien.ac.at>

	* DESCRIPTION (Version): New version is 0.5-4.

	* src/minitab.c: remove compatibility definitions for pre-1.2.0
	as otherwise Rversion.h needs to be included explicitly for R
	1.6.0.

2002-05-01  Brian Ripley  <ripley@stats.ox.ac.uk>

	* src/foreign.h: remove compatibility definitions for pre-1.2.0
	as otherwise Rversion.h needs to be included explicitly for R
	1.6.0.

	* DESCRIPTION: R >= 1.2.0 given the above change.

2002-04-29  Saikat DebRoy  <saikat@stat.wisc.edu>

	* src/spss.c, R/spss.R, man/read.spss.Rd: read.spss adds a
	"variable.labels" attribute to the result if any variable labels
	are present in the SPSS file.

2002-03-27  Douglas Bates  <bates@stat.wisc.edu>

	* src/SASxport.c (IS_SASNA_CHAR): Silly typo (0x4l, not 0x41)
	caught by Peter.

2002-03-08 Thomas Lumley <tlumley@u.washington.edu>

	* Update stataread.c to read version 7/SE

	* Add support for Epi Info

	* SPSS: convert only some value labels to factor levels

2002-03-08 Brian Ripley	 <ripley@stats.ox.ac.uk>

	* DESCRIPTION (Version): New version is 0.4-10.

	* minitab.c, pfm-read.c, spss.c: add casts as required.

	* configure.win: added to allow no-intervention
	  installation on Windows.

2002-01-24  Kurt Hornik	 <Kurt.Hornik@wu-wien.ac.at>

	* DESCRIPTION (Version): New version is 0.4-9.

2002-01-11 Thomas Lumley <tlumley@u.washington.edu>
	read.spss reads factor levels, optionally coerces to data.frame

2001-12-13  Thomas Lumley  <tlumley@u.washington.edu>.
	Typo in Stata date-handling provoked by gctorture()

2001-12-13  Kurt Hornik	 <Kurt.Hornik@ci.tuwien.ac.at>

	* src/sfm-read.c (bufread): Do not read in 0 bytes [fix by PD].

2001-12-04  Kurt Hornik	 <Kurt.Hornik@ci.tuwien.ac.at>

	* DESCRIPTION (Version): New version is 0.4-8.

2001-11-13 Thomas Lumley <tlumley@u.washington.edu>
	revised factor reading in src/stataread.c,
	added factor writing for Stata,
	long names now abbreviate()d not truncated.
	Fixed various idiocies in writing strings.

2001-11-12 Thomas Lumley <tlumley@u.washington.edu>
	* src/stataread.c, R/read.dta.R, man/*.dta.Rd,
	tests/datefactor.dta, tests/stata.R: read factors,
	read and write dates in Stata.

2001-10-11 Thomas Lumley <tlumley@u.washington.edu>

	* src/stataread.c: use strlen(), not the field width, as the
	argument to allocString().

2001-07-23  Saikat DebRoy  <saikat@stat.wisc.edu>

	* src/pfm-read.c, src/spss.c: Do not inline functions on non-gcc
	compilers.
	* src/sfmP.h: Don not use the __atribute__ keyword on non-gcc
	compilers.

2001-07-17 Brian Ripley	 <ripley@stats.ox.ac.uk>

	* DESCRIPTION (Version): New version is 0.4-6.

	* src/sfm-read.c Use Free not free consistently.

	* src/spss.c (do_read_SPSS): Always open in binary mode.

2001-06-18  Kurt Hornik	 <Kurt.Hornik@ci.tuwien.ac.at>

	* DESCRIPTION (Version): New version is 0.4-5.

	* src/pfm-read.c (pfm_read_dictionary): Use Calloc() instead of
	R_alloc().

	* src/sfm-read.c (sfm_read_dictionary): Use Calloc() instead of
	R_alloc().

	* src/spss.c (do_read_SPSS): Check for null file pointer.

2001-06-09  Kurt Hornik	 <Kurt.Hornik@ci.tuwien.ac.at>

	* tests/*.R, tests/*.Rout.save:	 Remove `gctorture(TRUE)'.

	* R/*.R: Change name of filename argument to `file'.  Add
	`PACKAGE' arg in FF calls where missing.  Remove .First.lib() from
	stataread.

	* man/*.Rd: Change name of filename argument to `file', and be
	consistent about using keyword `file'.

2001-05-16  Saikat DebRoy  <saikat@stat.wisc.edu>

	* src/SASxport.c (next_xport_info): changed size of allocated
	array tmp - it must be at least 81.

2001-05-14  Saikat DebRoy  <saikat@stat.wisc.edu>

	* R/read.dta.R, src/stataread.c, man/read.dta.Rd, man/write.dta.Rd:
	Added Stata Version 7 support from Thomas Lumley

2001-04-09  Saikat DebRoy  <saikat@stat.wisc.edu>

	* src/SASxport.c (next_xport_info):
	initialized *tailpad to 0. Fixed value of *tailpad
	when end of file occurs while trying to get a new record (line
	350). Fixed possible memory leaks in case of call to error.
	(xport_info):  Fixed possible memory leaks in case of call to
	error. Removed most of the Calloc-ed arrays and replaced them with R
	objects.

2001-04-03  Saikat DebRoy  <saikat@stat.wisc.edu>

	* src/SASxport.c (next_xport_info): fixed computation of tailpad
	when restOfCard != 0. The earlier method used ftell which can give
	wrong results for long files.

2001-03-31  Brian Ripley <ripley@stats.ox.ac.uk>

	* R/read.S.R, man/read.S.Rd:
	New files adapted from package Rstreams to read S3 objects and dumps.

2001-02-22  Saikat DebRoy  <saikat@stat.wisc.edu>

	* src/pfm-read.c:
	In read_version_data, added check for date and time with the first
	character of the field ' '.

	Removed check for second integer field in the Variable Count
	Record.

	Both of these changes are based on bug report by Akio Sone.

2001-02-06  Saikat DebRoy  <saikat@stat.wisc.edu>

	* src/SASxport.c:
	fixed problem with 8 character names in SAS XPORT format

2001-02-06  Saikat DebRoy  <saikat@stat.wisc.edu>

	* src/SASxport.c:
	fixed problem with 8 character names in SAS XPORT format

2001-01-24  Douglas Bates  <bates@verdi>

	* src/SASxport.c: Fixing problem with calculation of the number of
	rows in SAS XPORT data sets when the rows are short

2001-01-24  Douglas Bates  <bates@stat.wisc.edu>

	* src/SASxport.c (next_xport_info): Adding yet another rule to try
	to detect the number of rows in a SAS data set.

2000-12-14  Douglas Bates  <bates@stat.wisc.edu>

	* cleanup: Added the cleanup script.

	* src/file-handle.h: Added declaration of fh_init_files to keep
	-Wall happy.

	* src/sfm-read.c (read_header): initialized skip_amt to keep -Wall
	happy.

	* tests/minitab.Rout.save: Added a missing blank line in this file
	and in others so they do not produce error reports during R CMD
	check.

1999-12-15  Douglas Bates  <bates@stat.wisc.edu>

	* src/minitab.c (strtrim): Corrected the character count.
	(MTB2SEXP): Added the names of the columns, if they are given.


1999-12-16  Douglas Bates  <bates@stat.wisc.edu>

	* DESCRIPTION (Package): Created a 0.1-1 release under the package
	name "foreign".

	* R/zzz.R: Added the copyright stuff.
